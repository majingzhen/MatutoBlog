{{ define "default/category.html" }}
<html lang="zh-CN">
<body class="bg-light text-dark font-sans antialiased">
<!-- 导航栏 -->
{{ template "default/components/header.html" . }}
<main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <!-- 分类标题区域 -->
    <section class="mb-12">
        <div class="bg-white rounded-2xl shadow-md p-8 md:p-12">
            <h1 class="text-[clamp(1.8rem,4vw,2.5rem)] font-bold text-dark mb-4">
                文章分类
            </h1>
            <p class="text-gray-600 max-w-2xl">
                浏览不同主题的文章，探索技术、设计与生活的精彩内容，找到您感兴趣的话题。
            </p>
        </div>
    </section>
    <!-- 分类筛选标签 -->
    <section class="mb-12 overflow-x-auto pb-4 scrollbar-hide">
        <div class="flex space-x-3 min-w-max">
            <a href="/categories"
                    class="category-btn px-6 py-3 bg-primary text-white font-medium rounded-full hover:bg-primary/90 transition-custom shadow-md"
            >
                全部分类
            </a>
            {{range .categories}}
            <a href="/category/{{.Id}}"
                    class="category-btn px-6 py-3 bg-white text-gray-700 font-medium rounded-full hover:bg-gray-100 transition-custom shadow-sm"
            >
                {{.Name}}
            </a>
            {{end}}
        </div>
    </section>
    <!-- 分类内容区域 -->
    <div class="category-content">
        <h2 class="text-2xl font-bold text-dark mb-8">分类统计</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {{range .categories}}
            <!-- 分类卡片 -->
            <article class="bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-custom transform hover:-translate-y-1">
                <div class="relative h-48 overflow-hidden">
                    {{if .Thumbnail}}
                    <img
                            src="{{.Thumbnail}}"
                            alt="{{.Name}}"
                            class="w-full h-full object-cover transition-transform duration-500 hover:scale-110"
                    />
                    {{else}}
                    <div class="w-full h-full bg-gradient-to-br from-primary/80 to-primary flex items-center justify-center">
                        <i class="fas fa-folder text-white text-4xl"></i>
                    </div>
                    {{end}}
                    <div class="absolute top-3 left-3">
                        <span class="px-3 py-1 bg-primary text-white text-xs font-medium rounded-full">
                            分类
                        </span>
                    </div>
                </div>
                <div class="p-5">
                    <h3 class="text-lg font-bold mb-2 hover:text-primary transition-custom line-clamp-2">
                        <a href="/category/{{.Id}}">
                            {{.Name}}
                        </a>
                    </h3>
                    <p class="text-gray-600 text-sm mb-4 line-clamp-3">
                        {{if .Desc}}{{.Desc}}{{else}}暂无描述{{end}}
                    </p>
                    <div class="flex justify-between items-center pt-2 border-t border-gray-100">
                        <span class="text-xs text-gray-500">
                            <i class="far fa-file-alt mr-1"></i>
                            {{.ArticleCount}} 篇文章
                        </span>
                        <a
                                href="/category/{{.Id}}"
                                class="text-primary text-sm font-medium hover:underline"
                        >
                            查看文章
                        </a>
                    </div>
                </div>
            </article>
            {{end}}
        </div>
    </div>
</main>
<!-- 订阅区域 -->
{{ template "default/components/section.html" . }}
<!-- 页脚 -->
{{ template "default/components/footer.html" . }}
<!-- 返回顶部按钮 -->
<button
        id="back-to-top"
        class="fixed bottom-6 right-6 w-12 h-12 bg-primary text-white rounded-full flex items-center justify-center shadow-lg opacity-0 invisible transition-all duration-300 hover:bg-primary/90"
>
    <i class="fas fa-arrow-up"> </i>
</button>
<!-- JavaScript -->
<script>
    // 页面加载时初始化
    document.addEventListener('DOMContentLoaded', () => {
        // 移动端菜单切换
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');

        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // 返回顶部按钮
        const backToTopButton = document.getElementById('back-to-top');

        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 300) {
                backToTopButton.classList.remove('opacity-0', 'invisible');
                backToTopButton.classList.add('opacity-100', 'visible');
            } else {
                backToTopButton.classList.remove('opacity-100', 'visible');
                backToTopButton.classList.add('opacity-0', 'invisible');
            }
        });

        backToTopButton.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // 导航栏滚动效果
        const header = document.querySelector('header');

        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 50) {
                header.classList.add('shadow-md');
                header.classList.remove('shadow-sm');
            } else {
                header.classList.remove('shadow-md');
                header.classList.add('shadow-sm');
            }
        });

        // 分类筛选功能
        const categoryButtons = document.querySelectorAll('.category-btn');
        const categoryContents = document.querySelectorAll('.category-content');

        categoryButtons.forEach(button => {
            button.addEventListener('click', () => {
                // 移除所有按钮的活跃状态
                categoryButtons.forEach(btn => {
                    btn.classList.remove('bg-primary', 'text-white', 'shadow-md');
                    btn.classList.add('bg-white', 'text-gray-700', 'shadow-sm');
                });

                // 添加当前按钮的活跃状态
                button.classList.remove('bg-white', 'text-gray-700', 'shadow-sm');
                button.classList.add('bg-primary', 'text-white', 'shadow-md');

                // 隐藏所有分类内容
                categoryContents.forEach(content => {
                    content.classList.add('hidden');
                });

                // 显示对应分类内容
                const category = button.getAttribute('data-category');
                document.getElementById(`${category}-content`).classList.remove('hidden');

                // 滚动到顶部
                window.scrollTo({
                    top: 200,
                    behavior: 'smooth'
                });
            });
        });

        // 文章卡片悬停效果
        const articleCards = document.querySelectorAll('article');

        articleCards.forEach(card => {
            card.addEventListener('mouseenter', () => {
                card.style.transform = 'translateY(-5px)';
                card.style.boxShadow = '0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)';
            });

            card.addEventListener('mouseleave', () => {
                card.style.transform = 'translateY(0)';
                card.style.boxShadow = '0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)';
            });
        });
    });
</script>
</body>
</html>

{{ end }}